<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shrines in Japan</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://alexz1.github.io/FinalProject/dist/storymap.2.3.css">
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">

    <!-- Adding Facebook Icon-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--story map plugin-->
    <script src="https://github.com/forechan/storymap/blob/master/lib/storymap.2.3.css"></script>
</head>
<body>

  <div id="storymap" class="container-fluid">
      <div class="row">
          <div class="col-sm-6 col-md-4 storymap-story">
            </section>
              <section  data-scene="shrine1">
                  <h2>Fushimi Inari Shrine</h2>
                  <img src="Fushimi-Inari-Shrine-Torii-Gates-Curve.jpg" width="80%" length="80%">
                  <p>Fushimi Inari Shrine is located in Kyoto. I have personally
                    visited this shrine myself when I went to Japan. There are lots
                    of torii gates that create a tunnel and it is very beautiful.
                    This shrine worships foxes as their gods.</p>
              </section>
              <section  data-scene="shrine2">
                  <h2>Miyajima Shrine</h2>
                  <img src="Miyajima-Floating-shrine.jpg" width="80%" length="80%">
                  <p>Miyajima shrine floats in the middle of the water. This island
                    is located in Hiroshima Island. It's very famous and considered a UNESCO
                    World Heritage site. It is believed to have been built in 593, known as
                    Suiko period.
                  </p>
              </section>
              <section  data-scene="shrine3">
                  <h2>Meiji Jingu</h2>
                  <img src="treasure-house.jpg" width="100%">
                  <p>Meiji Jingu is located in Tokyo. This shrine is dedicated to Emperor
                    Meiji and built in 1920. The shrine was actually destroyed in World War II
                    but was rebuilt.
                  </p>
              </section>
              <section  data-scene="shrine4">
                  <h2>Kinkakuji</h2>
                  <img src="uZTOfPGv_original-17.jpg" alt="John Day Dam" width="100%">
                  <p> Kinkakuji was built in 1955 and is located in Kyoto.
                    The pavillion is 3 stories high. The name kinkaku actually
                    comes from the gold leaf on the roof.
                </p>
              </section>
          </div>
          <div class="col-sm-6 col-md-8 storymap-map"></div>
      </div>

  </div>



<script type="text/javascript">

    var layers = {
      Mapbox_Streets: {
          layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
              id: 'mapbox.streets', detectRetina: true
          })
      }
    };

    var shrine = {
        shrine1: {lat: 34.967307, lng: 135.773176, zoom: 7, name: "shrine1"},
        shrine2: {lat: 34.298119, lng: 132.318059, zoom: 10, name: "shrine2"},
        shrine3: {lat: 35.676589, lng: 139.699337, zoom: 12, name: "shrine3"},
        shrine4: {lat: 35.039607, lng: 135.729232, zoom: 12, name: "shrine4"},
    };

    $('#storymap').storymap({
        scenes: shrine,
        baselayer: layers.Mapbox_Streets,
        navbar: true,
        legend: true,
        loader: false,
        flyto: true,
        scalebar: false,
        scrolldown: true,
        progressline: true,
        navwidget: true,
        createMap: function () {
            var map = L.map($(".storymap-map")[0], {zoomControl: false}).setView([44, -120], 7);
            basemap = this.baselayer.layer.addTo(map);
            for (const d in shrine) {
              shrine_info = shrine[d] // return info in format {lat: 47.956, lng: -118.980, zoom: 14,  name: "Dam 1"}
              var marker = L.marker([shrine_info.lat, shrine_info.lng]).addTo(map);
            }
            return map;
        }
    });
</script>
</body>
</html>
